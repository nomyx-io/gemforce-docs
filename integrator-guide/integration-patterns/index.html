<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Gemforce Team" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Integration Patterns - Gemforce Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Integration Patterns";
        var mkdocs_page_input_path = "integrator-guide/integration-patterns.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Gemforce Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../developer-setup-guide/">Developer Setup Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../system-architecture/gemforce-system-architecture/">System Architecture</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Smart Contracts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../smart-contracts/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../smart-contracts/diamond/">Diamond Contract</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../smart-contracts/diamond-factory/">Diamond Factory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../smart-contracts/identity-factory/">Identity Factory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Facets</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/marketplace-facet/">Marketplace Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/trade-deal-management-facet/">Trade Deal Management Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/carbon-credit-facet/">Carbon Credit Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/identity-registry-facet/">Identity Registry Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/trusted-issuers-registry-facet/">Trusted Issuers Registry Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/fee-distributor-facet/">Fee Distributor Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/gemforce-minter-facet/">Gemforce Minter Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/multi-sale-facet/">Multi Sale Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/svg-templates-facet/">SVG Templates Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/trade-deal-admin-facet/">Trade Deal Admin Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/trade-deal-operations-facet/">Trade Deal Operations Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/collateral-token-factory-facet/">Collateral Token Factory Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/diamond-cut-facet/">Diamond Cut Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/diamond-loupe-facet/">Diamond Loupe Facet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/facets/ownership-facet/">Ownership Facet</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Interfaces</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/idiamond/">IDiamond</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/imarketplace/">IMarketplace</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/itradedeal/">ITradeDeal</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/icarbon-credit/">ICarbonCredit</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/ierc1155-mint/">IERC1155Mint</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/ierc734/">IERC734</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/ierc735/">IERC735</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/ierc721a/">IERC721A</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/idiamond-factory/">IDiamondFactory</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/iidentity/">IIdentity</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/imultisale/">IMultiSale</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/ifee-distributor/">IFeeDistributor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/igemforce-minter-facet/">IGemforceMinterFacet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/iidentity-registry/">IIdentityRegistry</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/itrusted-issuers-registry/">TRUSTEDIssuersRegistry</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/isvg/">ISVG</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/interfaces/iattribute/">IAttribute</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Libraries</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/carbon-credit-lib/">Carbon Credit Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/trade-deal-lib/">Trade Deal Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/multi-sale-lib/">Multi Sale Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/diamond-factory-lib/">Diamond Factory Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/svg-templates-lib/">SVG Templates Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/attribute-lib/">Attribute Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/variable-price-lib/">Variable Price Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/merkle-prover/">Merkle Prover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/fee-distributor-lib/">Fee Distributor Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/lib-diamond/">LibDiamond</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/diamond-lib/">DiamondLib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/erc721a-lib/">ERC721A Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/erc721a-enumeration-lib/">ERC721A Enumeration Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/strings-lib/">Strings Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/trusted-issuer-lib/">Trusted Issuer Lib</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../smart-contracts/libraries/set-libraries/">Set Libraries</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">SDK & Libraries</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdk-libraries/blockchain/">Blockchain Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdk-libraries/diamond/">Diamond Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdk-libraries/contract/">Contract Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdk-libraries/deploy/">Deployment Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdk-libraries/validation-utils/">Validation Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdk-libraries/nft-sale-utils/">NFT Sale Utilities</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Functions</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/authentication/">Authentication Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/auth-functions/">Auth Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/blockchain/">Blockchain Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/bridge/">Bridge Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/contracts/">Contract Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/deploy/">Deploy Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/dfns/">DFNS Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/project/">Project Functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/trade-deal/">Trade Deal Functions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Documentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../api-documentation/gemforce-api-documentation/">Full API Reference</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../api-documentation/gemforce-api-quick-reference/">Quick Reference</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Operations Tasks</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/diamond/">Diamond Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/identities/">Identity Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/marketplace-management/">Marketplace Management Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/carbon-credit-management/">Carbon Credit Management Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/trade-deal/">Trade Deal Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/integration-test/">Integration Test Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/integration-test-marketplace/">Marketplace Integration Test Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/integration-test-trade-deal/">Trade Deal Integration Test Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/admin-utils/">Admin Utilities</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/sync-diamond/">Sync Diamond Tasks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cloud-functions/tasks/sync-events/">Sync Events Tasks</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">EIPs (Ethereum Improvement Proposals)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/EIP-DRAFT-Diamond-Enhanced-Marketplace/">Diamond-Enhanced Marketplace</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/EIP-DRAFT-Multi-Token-Sale-Standard/">Multi-Token Sale Standard</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/EIP-DRAFT-Collateralized-Trade-Deal-Standard/">Collateralized Trade Deal Standard</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/EIP-DRAFT-Enhanced-Identity-System/">Enhanced Identity System</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/EIP-DRAFT-Diamond-Factory-Standard/">Diamond Factory Standard</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../eips/EIP-DRAFT-Carbon-Credit-Standard/">Carbon Credit Standard</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guides</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../gemforce-administrator-guide/">Administrator Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../gemforce-deployer-guide/">Deployer Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../gemforce-integrator-guide/">Integrator Guide</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Integrator's Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../authentication/">Authentication</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../rest-api/">REST API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../smart-contracts/">Smart Contracts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dfns/">DFNS Integration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../webhooks/">Webhooks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../error-handling/">Error Handling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sample-code/">Sample Code</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Integration Patterns</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview-of-integration-patterns">Overview of Integration Patterns</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#1-frontendbackend-separation-for-blockchain-interaction">1. Frontend/Backend Separation for Blockchain Interaction</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-description">Pattern Description</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advantages">Advantages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#considerations">Considerations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example-architecture">Example Architecture</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-event-driven-architectures">2. Event-Driven Architectures</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-description_1">Pattern Description</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advantages_1">Advantages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#considerations_1">Considerations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example-flow">Example Flow</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-data-synchronization-patterns">3. Data Synchronization Patterns</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-description_2">Pattern Description</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advantages_2">Advantages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#considerations_2">Considerations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#4-transaction-management-patterns">4. Transaction Management Patterns</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-description_3">Pattern Description</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advantages_3">Advantages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#considerations_3">Considerations</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#5-microservices-with-blockchain-integration">5. Microservices with Blockchain Integration</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#pattern-description_4">Pattern Description</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advantages_4">Advantages</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#considerations_4">Considerations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example-architecture_1">Example Architecture</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#related-documentation">Related Documentation</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../security/">Security</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../external-services/gemforce-external-services/">External Services</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../gemforce-documentation-gap-analysis/">Documentation Gap Analysis</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../documentation-progress-summary/">Documentation Progress Summary</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../documentation-plan/">Documentation Plan</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Gemforce Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Integrator's Guide</li>
      <li class="breadcrumb-item active">Integration Patterns</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="integrators-guide-integration-patterns">Integrator's Guide: Integration Patterns<a class="headerlink" href="#integrators-guide-integration-patterns" title="Permanent link">&para;</a></h1>
<p>Designing robust and scalable integrations with the Gemforce platform requires adhering to established patterns. This guide explores common integration patterns, providing architectural recommendations and considerations for various scenarios, from simple dApp connections to complex enterprise systems.</p>
<h2 id="overview-of-integration-patterns">Overview of Integration Patterns<a class="headerlink" href="#overview-of-integration-patterns" title="Permanent link">&para;</a></h2>
<p>Effective integration patterns help you to:</p>
<ul>
<li><strong>Improve Reliability</strong>: Design systems that are resilient to failures and data inconsistencies.</li>
<li><strong>Enhance Scalability</strong>: Build components that can handle increasing load efficiently.</li>
<li><strong>Simplify Maintenance</strong>: Create modular and understandable integrations that are easier to update.</li>
<li><strong>Optimize Performance</strong>: Minimize latency and resource consumption.</li>
</ul>
<p>This guide covers patterns for:</p>
<ol>
<li><strong>Frontend/Backend Separation for Blockchain Interaction</strong></li>
<li><strong>Event-Driven Architectures</strong></li>
<li><strong>Data Synchronization Patterns</strong></li>
<li><strong>Transaction Management Patterns</strong></li>
<li><strong>Microservices with Blockchain Integration</strong></li>
</ol>
<h2 id="1-frontendbackend-separation-for-blockchain-interaction">1. Frontend/Backend Separation for Blockchain Interaction<a class="headerlink" href="#1-frontendbackend-separation-for-blockchain-interaction" title="Permanent link">&para;</a></h2>
<p>This pattern advocates for separating blockchain interaction logic.</p>
<h3 id="pattern-description">Pattern Description<a class="headerlink" href="#pattern-description" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Frontend (Client-side)</strong>: Primarily handles user interaction, wallet connection (e.g., MetaMask, WalletConnect), and direct <code>view</code> or <code>pure</code> smart contract calls. It might also initiate <code>send transaction</code> requests, but typically delegates complex transaction building or state changes to a backend.</li>
<li><strong>Backend (Server-side)</strong>: Manages sensitive operations, private keys, heavy computations, data indexing, and interaction with external services (like DFNS, traditional databases). It can also broadcast signed transactions received from the frontend or generated internally.</li>
</ul>
<h3 id="advantages">Advantages<a class="headerlink" href="#advantages" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Security</strong>: Private keys are never exposed to the client.</li>
<li><strong>Performance</strong>: Offloads heavy computations from the client.</li>
<li><strong>Scalability</strong>: Backend can be scaled independently.</li>
<li><strong>Control</strong>: Centralized logic for complex transactions and data validation.</li>
</ul>
<h3 id="considerations">Considerations<a class="headerlink" href="#considerations" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Latency</strong>: Introducing a backend might add slight latency for operations that could be done purely client-side.</li>
<li><strong>State Management</strong>: Requires careful synchronization of on-chain and off-chain state.</li>
</ul>
<h3 id="example-architecture">Example Architecture<a class="headerlink" href="#example-architecture" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>+----------------+       +-------------------+       +--------------------+
|                |       | Node.js / Python  |       |                    |
|                |       |   Backend Service |       | Gemforce Smart     |
|  User Frontend | &lt;----&gt;|                   | &lt;----&gt;|   Contracts        |
| (React/Vue/JS) |       | - Private Key Mgmt|       |(Diamond, Facets...) |
|                |       | - Transaction API |       |                    |
| - Wallet Connect|&lt;----&gt; | - Data Indexing   |       |                    |
| - View Calls   |       | - DFNS Integration|       |                    |
+----------------+       +-------------------+       +---------^----------+
                                                          |
                                                          |  Real-time Events
                                                          |
                                                      +-----------------+
                                                      | Blockchain Node |
                                                      |  / RPC Provider |
                                                      +-----------------+
</code></pre></div>

<h2 id="2-event-driven-architectures">2. Event-Driven Architectures<a class="headerlink" href="#2-event-driven-architectures" title="Permanent link">&para;</a></h2>
<p>This pattern focuses on reacting to events emitted by smart contracts or the Gemforce cloud platform.</p>
<h3 id="pattern-description_1">Pattern Description<a class="headerlink" href="#pattern-description_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Deploy dedicated services (listeners) that monitor blockchain events (via RPC providers like Infura, Alchemy, or specialized indexing solutions like The Graph, Moralis) or Gemforce webhooks.</li>
<li>When an event is detected, the listener triggers downstream processes (e.g., updates a database, sends notifications, initiates complex business logic).</li>
</ul>
<h3 id="advantages_1">Advantages<a class="headerlink" href="#advantages_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Real-time Updates</strong>: Immediate reaction to on-chain or platform state changes.</li>
<li><strong>Decoupling</strong>: Different services can operate independently, reducing inter-dependency.</li>
<li><strong>Scalability</strong>: Listeners and processing services can be scaled to handle event volume.</li>
<li><strong>Auditability</strong>: Events provide a clear audit trail of significant actions.</li>
</ul>
<h3 id="considerations_1">Considerations<a class="headerlink" href="#considerations_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Event Ordering</strong>: Ensuring correct processing order for events can be complex.</li>
<li><strong>Duplicate Events</strong>: Handle potential duplicate event receipts (idempotency).</li>
<li><strong>Indexing Lag</strong>: Be aware of potential delays between event emission and detection by your listener.</li>
</ul>
<h3 id="example-flow">Example Flow<a class="headerlink" href="#example-flow" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>graph TD
    A[Gemforce Smart Contract] -- Emits Event --&gt; B(Blockchain Node/RPC)
    B -- Event Stream --&gt; C[Event Listener Service]
    C -- Publishes to Queue --&gt; D(Message Queue: Kafka/RabbitMQ)
    D -- Consumers Pick Up --&gt; E[Data Processing Service]
    E -- Updates --&gt; F[Backend Database]
</code></pre></div>

<h2 id="3-data-synchronization-patterns">3. Data Synchronization Patterns<a class="headerlink" href="#3-data-synchronization-patterns" title="Permanent link">&para;</a></h2>
<p>Ensuring consistency between on-chain data and your off-chain databases.</p>
<h3 id="pattern-description_2">Pattern Description<a class="headerlink" href="#pattern-description_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Event-Sourcing</strong>: The most robust approach. The canonical source of truth for certain data remains on-chain (events). Your off-chain database is a projection of these events.</li>
<li><strong>Snapshotting</strong>: Periodically read the full state from smart contracts and update your database. Less real-time, but simpler for static or slowly changing data.</li>
<li><strong>Hybrid</strong>: Combine event listening for real-time updates with periodic full synchronization for resilience or complex data.</li>
</ul>
<h3 id="advantages_2">Advantages<a class="headerlink" href="#advantages_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Consistency</strong>: Maintains coherent data across distributed systems.</li>
<li><strong>Resilience</strong>: Can rebuild off-chain state from on-chain data.</li>
</ul>
<h3 id="considerations_2">Considerations<a class="headerlink" href="#considerations_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Read/Write Performance</strong>: Queries on raw blockchain data can be slow; off-chain indexing improves read performance.</li>
<li><strong>Complexity</strong>: Requires careful design to handle reorgs (blockchain reorganizations) and ensure eventual consistency.</li>
</ul>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<p>Listening to <code>TradeDealCreated</code> events and saving them to a MongoDB.</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// From Trade Deal Listener example (simplified)</span>
<span class="nx">tradeDealManagement</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;TradeDealCreated&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="nx">tradeDealId</span><span class="p">,</span><span class="w"> </span><span class="nx">creator</span><span class="p">,</span><span class="w"> </span><span class="nx">amount</span><span class="p">,</span><span class="w"> </span><span class="nx">assetToken</span><span class="p">,</span><span class="w"> </span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Save to MongoDB via Mongoose</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">newTradeDeal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">TradeDealModel</span><span class="p">({</span>
<span class="w">        </span><span class="nx">_id</span><span class="o">:</span><span class="w"> </span><span class="nx">tradeDealId</span><span class="p">,</span><span class="w"> </span><span class="c1">// Use tradeDealId as primary key</span>
<span class="w">        </span><span class="nx">creatorAddress</span><span class="o">:</span><span class="w"> </span><span class="nx">creator</span><span class="p">,</span>
<span class="w">        </span><span class="nx">amount</span><span class="o">:</span><span class="w"> </span><span class="nx">ethers</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">formatEther</span><span class="p">(</span><span class="nx">amount</span><span class="p">),</span>
<span class="w">        </span><span class="nx">assetTokenAddress</span><span class="o">:</span><span class="w"> </span><span class="nx">assetToken</span><span class="p">,</span>
<span class="w">        </span><span class="nx">createdAtBlock</span><span class="o">:</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">blockNumber</span><span class="p">,</span>
<span class="w">        </span><span class="nx">transactionHash</span><span class="o">:</span><span class="w"> </span><span class="nx">event</span><span class="p">.</span><span class="nx">transactionHash</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">newTradeDeal</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Saved new trade deal </span><span class="si">${</span><span class="nx">tradeDealId</span><span class="si">}</span><span class="sb"> to MongoDB.`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<h2 id="4-transaction-management-patterns">4. Transaction Management Patterns<a class="headerlink" href="#4-transaction-management-patterns" title="Permanent link">&para;</a></h2>
<p>Handling the lifecycle of blockchain transactions.</p>
<h3 id="pattern-description_3">Pattern Description<a class="headerlink" href="#pattern-description_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Client-Side Signing, Backend Broadcasting</strong>: Frontend gets user signature, passes signed transaction to backend, which broadcasts it. (Good for privacy/user control).</li>
<li><strong>Backend Signing (via DFNS/Private Key)</strong>: Backend creates and signs transactions (using DFNS or its own secure private keys), then broadcasts. (For automated processes, admin tools).</li>
<li><strong>Transaction Relayers</strong>: Users sign a meta-transaction, and a relayer pays gas to execute it on their behalf. (For gas abstraction, improving UX).</li>
</ul>
<h3 id="advantages_3">Advantages<a class="headerlink" href="#advantages_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Enhanced Security</strong>: Protects private keys.</li>
<li><strong>Improved UX</strong>: Can abstract gas fees or complex signing.</li>
<li><strong>Automated Operations</strong>: Enables programmatic control over on-chain actions.</li>
</ul>
<h3 id="considerations_3">Considerations<a class="headerlink" href="#considerations_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Latency</strong>: Relayers or backend signing can add latency.</li>
<li><strong>Trust</strong>: Requires trusting the backend or relayer with transaction details.</li>
<li><strong>Gas Management</strong>: Backend/relayer needs robust gas estimation and management.</li>
</ul>
<h2 id="5-microservices-with-blockchain-integration">5. Microservices with Blockchain Integration<a class="headerlink" href="#5-microservices-with-blockchain-integration" title="Permanent link">&para;</a></h2>
<p>Structuring your application as small, independently deployable services, with some integrating specifically with blockchain.</p>
<h3 id="pattern-description_4">Pattern Description<a class="headerlink" href="#pattern-description_4" title="Permanent link">&para;</a></h3>
<ul>
<li>Each microservice (e.g., User Service, Marketplace Service, Identity Service) owns its data and business logic.</li>
<li>Blockchain interaction is encapsulated within dedicated "blockchain microservices" or "blockchain adapters" that handle communication with smart contracts and event listening.</li>
<li>These services communicate via APIs, message queues, or shared databases (if applicable).</li>
</ul>
<h3 id="advantages_4">Advantages<a class="headerlink" href="#advantages_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Modularity</strong>: Services are isolated and easier to develop, test, and deploy.</li>
<li><strong>Scalability</strong>: Individual services can be scaled based on demand.</li>
<li><strong>Technology Flexibility</strong>: Different services can use different technologies.</li>
<li><strong>Resilience</strong>: Failure in one service is less likely to affect the entire system.</li>
</ul>
<h3 id="considerations_4">Considerations<a class="headerlink" href="#considerations_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Distributed Transactions</strong>: Managing consistency across multiple services and the blockchain can be challenging.</li>
<li><strong>Operational Overhead</strong>: More services mean more operational complexity (deployment, monitoring).</li>
<li><strong>Data Consistency</strong>: Careful design needed to ensure eventual consistency between services.</li>
</ul>
<h3 id="example-architecture_1">Example Architecture<a class="headerlink" href="#example-architecture_1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>+------------+   +-------------------+   +---------------------+   +-----------------+
| User Micro |&lt;-&gt;| Auth Microservice |&lt;-&gt;| Blockchain Micro (SC) |&lt;-&gt;| Smart Contracts |
|  Service   |   | (Parse Server)    |   |  - On-chain Writes  |   +-----------------+
+------------+   +-------------------+   |  - Tx Status Mgmt   |
     |                                   +---------------------+
     |                                           /\       /\
     V                                           |        |   Event Stream
+-----------+   +---------------------+   +-----/--+   +--\----+
| Other App |&lt;-&gt;| Marketplace Micro   |&lt;-&gt;| Events Listener |   | Blockchain Node |
| Microservices |   | Service             |   | (Indexer)       |   |   / RPC Provider  |
+-----------+   +---------------------+   +-----------------+   +-----------------+
</code></pre></div>

<h2 id="related-documentation">Related Documentation<a class="headerlink" href="#related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../authentication/"> integrators-guide/authentication.md </a></li>
<li><a href="../smart-contracts/"> integrators-guide/smart-contracts.md </a></li>
<li><a href="../rest-api/"> integrators-guide/rest-api.md </a></li>
<li><a href="../webhooks/"> integrators-guide/webhooks.md </a></li>
<li><a href="../../system-architecture/gemforce-system-architecture/">System Architecture: Gemforce System Architecture</a></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../sample-code/" class="btn btn-neutral float-left" title="Sample Code"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../security/" class="btn btn-neutral float-right" title="Security">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../sample-code/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../security/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
